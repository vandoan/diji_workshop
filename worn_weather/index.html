
<!DOCTYPE html>
<head>
	<title>Diji workshop</title>
	<link rel="icon" type="image/png"  href="/scissor.ico" />
 	<link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Abril+Fatface" rel="stylesheet">

<style>
	 	
a {
	color: #000;
	opacity: 0.8;
	text-decoration: none;
	transition: all .4s;
}
a:hover { opacity: 0.5; }
.header-view {
	margin: 40px 0 20px;
}
.diji {
	opacity: 0.7;
 	font-size: 0.7em;
	letter-spacing: 4px;
	font-family: 'Lato', sans-serif;
}
.diji span { float: right; margin: 0 89px 0 0; }
.title {
	font-size: 2.4em;
	text-align: right;
	letter-spacing: 0.1em;
	font-family: 'Abril Fatface', cursive;
}
.intro {
    font-size: 0.87em;
    line-height: 1.6em;
    margin: 4em 0 4em 0;
    margin: 4em 0 4em 0;
    letter-spacing: 1.4px;
	font-family: 'Lato', sans-serif;
}
.main-view {
    width: 600px;
    margin: 0 auto 8em auto;
}
.city {
    font-size: 5em;
    letter-spacing: 8px;
    margin: 0 0 40px 0;
	font-family: 'Abril Fatface', cursive;
}
.place-view {
    margin: 8em auto 5em auto;
	text-align: center;
}
.column {
    width: 49.6%;
    text-align: center;
    display: inline-block;
}

.view-meanwhile {
    left: 0;
    top: 25em;
    width: 200px;
    padding: 2.4em 0;
    text-align: center;
    position: absolute;
	display: inline-block;
    background-color: aliceblue;
    border-radius: 0 0.5em 0.5em 0;
    font-family: 'Abril Fatface', cursive;
}
#mw-city {
    font-size: 1.2em;
    letter-spacing: 2px;
}
#mw-ctry {
    font-size: 2em;
    margin: 0 0 .4em 0;
    letter-spacing: 4px;
}
.mw-temp {
    margin: 0.5em;
    font-size: 0.9em;
    letter-spacing: 1px;
	display: inline-block;
}
.form {
    right: 0;
    top: 18em;
    padding: 1em;
    position: absolute;
    text-align: center;
    display: inline-block;
    background-color: #FFF;
    border-radius: 0.3em 0 0 0.3em;
    font-family: 'Abril Fatface', cursive;
}
.input-label {
    border: 0;
    opacity: .7;
    color: #000;
	font-size: 0.9em;
    margin: 0 0 0.5em 0;
    letter-spacing: .07em;
}
input {
	border: 0;
    color: #FFF;
    width: 6.8em;
    font-size: 0.8em;
    text-align: center;
    border-radius: .5em;
    letter-spacing: 0.5em;
    padding: 0.3em 0.5em 0.3em 0.9em;
    background-color: rgba(82, 179, 217, 0.6);
    font-family: 'Abril Fatface', cursive;
}
input::placeholder { color: white; text-align: center; } 
button {
	border: 0;
    color: #FFF;
    height: 58px;
    display: block;
    margin: 1em auto;
    text-align: center;
    transition: all .3s;
    padding: 0.8em 2.8em;
    border-radius: 0.4em;
    letter-spacing: 0.2em;
    background-color: rgba(82, 179, 217, 0.6);
    font-family: 'Abril Fatface', cursive;
}
button:hover { opacity: 0.8; cursor: pointer; }
.columns {
    font-family: 'Abril Fatface', cursive;
}
.header {
    font-size: 1.4em;
    margin: 0 0 0.6em 0;
    line-height: 1.2em;
    letter-spacing: .05em;
}
.temp {
    font-size: 3.8em;
    letter-spacing: 0.03em;
}
.wear {
	background-size: contain;
	background-repear: no-repeat;
}

.weather {
    margin-bottom: 2em;
}
#weather-img {
    width: 200px;
	height: 200px;
    margin: auto;
    border-radius: 50%;
    transition: all 3s;
    background-size: contain;
}
.sun-img {
	background-image: url(./images/weather-clear-1.jpg);

}
.backdrop{
    top: 0;
    right: 0;
    width: 47%;
    z-index: -2;
    height: 100vh;
    position: fixed;
	background-color: aliceBlue;
}
.backdrop-2{
    top: 0;
    right: 0;
    width: 4%;
    opacity: .1;
    z-index: -1;
    height: 100vh;
    position: fixed;
	background-color: #52B3D9;
}



</style>


</head>



<body>

<div>
</div>
<div class="main-view">
	<div class="header-view">
		<div class="title">Worn Weather</div>
		<a href="/"><div class="diji"><span>a Diji workshop thingi</div></a>
	</div>

	<div class='intro'>
		<p>
		A practical guide on what to wear according to weather.
		<br/>Pop in your zip and press "gimmeh weather" and you shall receive. 
		</p>
	</div>

	<div class='place-view'>
		<div class='weather'>
			<div id='weather'>
				<div id='weather-img' class='sun-img'></div>
			</div>
		</div>
		<div id='city' class='city'>San Diego</div>
	</div>

	<div class="wardrobe-view">
		<div class='columns'>
			<div class='column col-1'>
				<div class="header">Today's<br>Low</div>
				<div id='temp-low' class='temp'>76&#176;</div>
				<div id='attire-low'>
					<div class="wear sandles"></div>
					<div class="wear sunglasses"></div>
					<div class="wear shorts"></div>
				</div>
			</div>
			<div class='column'>
				<div class='column col-1'>
				<div class="header">Today's<br>High</div>
				<div id='temp-high' class='temp'>86&#176;</div>
				<div id='attire-high'>
					<div class="wear sombrero"></div>
					<div class="wear tank top"></div>
					<div class="wear bikini"></div>
					<div class="wear speedo"></div>
				</div>
			</div>
			</div>
		</div>
	</div>


	<div class='view-meanwhile'>
		<div class='mw-weather'>
			<div id='mw-weather' class="sun"></div>
		</div>
		<div class='mw-place'>
			<div id='mw-city'>Stockholm,</div>
			<div id="mw-ctry">Sweden</div>
			<div id='mw-temp'>
				<div id='mw-low' class='mw-temp'>low: 24</div><div id='mw-high' class='mw-temp'>high: 53</div>
			</div>
		</div>
		<div class='mw-wear'>
			<div id='mw-wear'>
				<div class='parka'>parka img</div>
				<div class='earmuffs'>earmuffs img</div>
			</div>
		</div>

	</div>

	<div class="form">
		<div class='input-label'>Za zip zere</div>
		<input name='zip' max="5" onkeypress='return event.charCode >= 48 && event.charCode <=57' name="newSet" placeholder='90210'/>
		<button>gimmeh<br>weather</button>
	</div>
<div class='backdrop'></div>
<div class='backdrop-2'></div>
</div>


<script>
  






 
var zip = 0;
var ctry = "US";
var intlCity = [];
var initialUSZip = 0;
var weatherData;
var weatherIntlData;

const coldrWear = ['beanie.png','mitt.svg','scarf.jpg','santaHat.png','skates.png'];
const warmWear = ['bag.png','sunHat.png','sunglasses.png','shirt.png','shorts.png'	];
const coolWear = ['bag.png','shirt.png'];
const wetWear = ['umbrella'];


// dummy data - erase later
intlCity = ['Kuala Lumpur','Malaysia'];
weatherIntlData = 
{
  "coord": {
    "lon": 25.26,
    "lat": 59.1
  },
  "weather": [
    {
      "id": 801,
      "main": "Clouds",
      "description": "few clouds",
      "icon": "02n"
    }
  ],
  "base": "stations",
  "main": {
    "temp": 53.6,
    "pressure": 999,
    "humidity": 93,
    "temp_min": 53.6,
    "temp_max": 53.6
  },
  "visibility": 10000,
  "wind": {
    "speed": 10.29,
    "deg": 240
  },
  "clouds": {
    "all": 20
  },
  "dt": 1505499600,
  "sys": {
    "type": 1,
    "id": 5014,
    "message": 0.0084,
    "country": "EE",
    "sunrise": 1505447374,
    "sunset": 1505493406
  },
  "id": 7522323,
  "name": "Kõue vald",
  "cod": 200
};

weatherData = 
{
  "coord": {
    "lon": 25.26,
    "lat": 59.1
  },
  "weather": [
    {
      "id": 801,
      "main": "Clouds",
      "description": "few clouds",
      "icon": "02n"
    }
  ],
  "base": "stations",
  "main": {
    "temp": 53.6,
    "pressure": 999,
    "humidity": 93,
    "temp_min": 53.6,
    "temp_max": 53.6
  },
  "visibility": 10000,
  "wind": {
    "speed": 10.29,
    "deg": 240
  },
  "clouds": {
    "all": 20
  },
  "dt": 1505499600,
  "sys": {
    "type": 1,
    "id": 5014,
    "message": 0.0084,
    "country": "EE",
    "sunrise": 1505447374,
    "sunset": 1505493406
  },
  "id": 7522323,
  "name": "Kõue vald",
  "cod": 200
};




const intlCities = [["Stockholm","Sweden"],['Kuala Lumpur','Malyasia'],['Nice','France'],['Kobe','Japan'],['Phuket','Thailand'],['Cancun','Mexico'],['Hanoi','Vietnam']];
const USCities = [98599, 99599, 33040, 83002, 79010, 31414, 91911, 96811];
// Olympia WA, Anchorage AK, Key West FL, Jackson WY, Baton Rouge LA, Savannah GA, San Diego CA, Honolulu HA

function getRandomZip(array){ // returns a random US zip
	city = array[Math.floor(Math.random() * array.length)];
	console.log(city);
	return city;
}

zip = getRandomZip(USCities); // set a random zip

intlCity = getRandomZip(intlCities);






function getWeather(zip, country = "US"){ //
	var search = "zip"
	if(country != "US"){
		search = "q";
	}

	var url = `http://api.openweathermap.org/data/2.5/weather?units=imperial&${search}=${zip}&country=${country}.json&APPID=ec9d435c91a19b4eaaa33303758d378c`;
	
	fetch(url)
	.then((resp) => resp.json()) 
	.then(function(response) {
		console.log(response);
		if(country == "US"){
			weatherData = response;
		} else {
			weatherIntlData = response;
		}

	}).catch(function(err) {
			// Error
	});
}

// getWeather(zip);
// getWeather(intlCity[0],intlCity[1]);

function getWear(type){
	var peice = type[Math.floor(Math.random() * type.length)];
	return peice;
}

function injectIntlContent(){
  document.getElementById('mw-city').innerHTML = intlCity[0];
  document.getElementById('mw-ctry').innerHTML = intlCity[1];
  document.getElementById('mw-low').innerHTML = weatherIntlData.main.temp_min;
  document.getElementById('mw-high').innerHTML = weatherIntlData.main.temp_max;
}

injectIntlContent();


function injectCityContent(){
  document.getElementById('city').innerHTML = weatherData.name;
  document.getElementById('temp-low').innerHTML = weatherData.main.temp_min;
  document.getElementById('temp-high').innerHTML = weatherData.main.temp_max;
}

injectCityContent();





</script>



</body> 
 </html>